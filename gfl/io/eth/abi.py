from typing import Union

abi_dict = {}
bytecode_dict = {}
address_dict = {}


def load_abi(name: str) -> Union[list, dict]:
    global abi_dict
    return abi_dict.get(name)


def load_bytecode(name: str) -> str:
    global bytecode_dict
    return bytecode_dict.get(name)


def load_address(name: str) -> str:
    global address_dict
    return address_dict.get(name)


abi_dict["controller"] = [
    {
        "inputs": [
            {
                "internalType": "string",
                "name": "jobId",
                "type": "string"
            }
        ],
        "name": "getJobMappingStorageContract",
        "outputs": [
            {
                "internalType": "address",
                "name": "",
                "type": "address"
            }
        ],
        "stateMutability": "view",
        "type": "function"
    },
    {
        "inputs": [
            {
                "internalType": "string",
                "name": "jobId",
                "type": "string"
            }
        ],
        "name": "getJobStatus",
        "outputs": [
            {
                "internalType": "uint8",
                "name": "",
                "type": "uint8"
            }
        ],
        "stateMutability": "view",
        "type": "function"
    },
    {
        "inputs": [
            {
                "internalType": "string",
                "name": "jobId",
                "type": "string"
            },
            {
                "internalType": "address",
                "name": "storageContractAddress",
                "type": "address"
            }
        ],
        "name": "setJobMappingStorageContract",
        "outputs": [],
        "stateMutability": "nonpayable",
        "type": "function"
    },
    {
        "inputs": [
            {
                "internalType": "string",
                "name": "jobId",
                "type": "string"
            },
            {
                "internalType": "uint8",
                "name": "status",
                "type": "uint8"
            }
        ],
        "name": "setJobStatus",
        "outputs": [],
        "stateMutability": "nonpayable",
        "type": "function"
    }
]
bytecode_dict["controller"] = "608060405234801561001057600080fd5b50610558806100206000396000f3fe608060405234801561001057600080fd5b506004361061004c5760003560e01c8063069e251e1461005157806312e45aab146100815780638c1e161f1461009d578063be065081146100cd575b600080fd5b61006b6004803603810190610066919061027f565b6100e9565b60405161007891906103ce565b60405180910390f35b61009b60048036038101906100969190610314565b610130565b005b6100b760048036038101906100b2919061027f565b61016b565b6040516100c491906103e9565b60405180910390f35b6100e760048036038101906100e291906102c0565b6101a0565b005b600080826040516100fa91906103b7565b908152602001604051809103902060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff169050919050565b8060018360405161014191906103b7565b908152602001604051809103902060006101000a81548160ff021916908360ff1602179055505050565b600060018260405161017d91906103b7565b908152602001604051809103902060009054906101000a900460ff169050919050565b806000836040516101b191906103b7565b908152602001604051809103902060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055505050565b600081359050610210816104f4565b92915050565b600082601f83011261022757600080fd5b813561023a61023582610431565b610404565b9150808252602083016020830185838301111561025657600080fd5b6102618382846104b2565b50505092915050565b6000813590506102798161050b565b92915050565b60006020828403121561029157600080fd5b600082013567ffffffffffffffff8111156102ab57600080fd5b6102b784828501610216565b91505092915050565b600080604083850312156102d357600080fd5b600083013567ffffffffffffffff8111156102ed57600080fd5b6102f985828601610216565b925050602061030a85828601610201565b9150509250929050565b6000806040838503121561032757600080fd5b600083013567ffffffffffffffff81111561034157600080fd5b61034d85828601610216565b925050602061035e8582860161026a565b9150509250929050565b61037181610473565b82525050565b60006103828261045d565b61038c8185610468565b935061039c8185602086016104c1565b80840191505092915050565b6103b1816104a5565b82525050565b60006103c38284610377565b915081905092915050565b60006020820190506103e36000830184610368565b92915050565b60006020820190506103fe60008301846103a8565b92915050565b6000604051905081810181811067ffffffffffffffff8211171561042757600080fd5b8060405250919050565b600067ffffffffffffffff82111561044857600080fd5b601f19601f8301169050602081019050919050565b600081519050919050565b600081905092915050565b600061047e82610485565b9050919050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600060ff82169050919050565b82818337600083830152505050565b60005b838110156104df5780820151818401526020810190506104c4565b838111156104ee576000848401525b50505050565b6104fd81610473565b811461050857600080fd5b50565b610514816104a5565b811461051f57600080fd5b5056fea2646970667358221220ee064a086a80e08cba0bcd6436cc1a5a33aa1c2d92b59efec0e2b3d2f225718d64736f6c63430006060033"
address_dict["controller"] = "0x4b6e439E3C48F1AdE9a2493102A13C6eB7caf103"


abi_dict["storage"] = [
    {
        "inputs": [
            {
                "internalType": "uint256",
                "name": "_fedStep",
                "type": "uint256"
            }
        ],
        "name": "downloadAggreagtedParametersIpfsHash",
        "outputs": [
            {
                "components": [
                    {
                        "internalType": "address",
                        "name": "owner",
                        "type": "address"
                    },
                    {
                        "internalType": "string",
                        "name": "modelParameter",
                        "type": "string"
                    }
                ],
                "internalType": "struct Storage.ModelParameter",
                "name": "",
                "type": "tuple"
            }
        ],
        "stateMutability": "view",
        "type": "function"
    },
    {
        "inputs": [],
        "name": "downloadFinalAggregatedParametersIpfsHash",
        "outputs": [
            {
                "internalType": "string",
                "name": "",
                "type": "string"
            }
        ],
        "stateMutability": "view",
        "type": "function"
    },
    {
        "inputs": [
            {
                "internalType": "uint256",
                "name": "_fedStep",
                "type": "uint256"
            },
            {
                "internalType": "address",
                "name": "_clientAddress",
                "type": "address"
            }
        ],
        "name": "downloadModelParametersIpfsHash",
        "outputs": [
            {
                "components": [
                    {
                        "internalType": "address",
                        "name": "owner",
                        "type": "address"
                    },
                    {
                        "internalType": "string",
                        "name": "modelParameter",
                        "type": "string"
                    }
                ],
                "internalType": "struct Storage.ModelParameter[]",
                "name": "",
                "type": "tuple[]"
            }
        ],
        "stateMutability": "view",
        "type": "function"
    },
    {
        "inputs": [],
        "name": "getFedStep",
        "outputs": [
            {
                "internalType": "uint256",
                "name": "",
                "type": "uint256"
            }
        ],
        "stateMutability": "view",
        "type": "function"
    },
    {
        "inputs": [
            {
                "internalType": "uint256",
                "name": "_fedStep",
                "type": "uint256"
            }
        ],
        "name": "setFedStep",
        "outputs": [],
        "stateMutability": "nonpayable",
        "type": "function"
    },
    {
        "inputs": [
            {
                "internalType": "address",
                "name": "_clientAddress",
                "type": "address"
            },
            {
                "internalType": "uint8",
                "name": "op",
                "type": "uint8"
            }
        ],
        "name": "updateActivateClients",
        "outputs": [],
        "stateMutability": "nonpayable",
        "type": "function"
    },
    {
        "inputs": [
            {
                "internalType": "uint256",
                "name": "_fedStep",
                "type": "uint256"
            },
            {
                "internalType": "address",
                "name": "_modelClientAddress",
                "type": "address"
            },
            {
                "internalType": "string",
                "name": "_aggregatedModelParsIpfsHash",
                "type": "string"
            }
        ],
        "name": "uploadAggreagtedParametersIpfsHash",
        "outputs": [],
        "stateMutability": "nonpayable",
        "type": "function"
    },
    {
        "inputs": [
            {
                "internalType": "string",
                "name": "_finalAggregatedIpfsHash",
                "type": "string"
            }
        ],
        "name": "uploadFinalAggregatedParametersIpfsHash",
        "outputs": [],
        "stateMutability": "nonpayable",
        "type": "function"
    },
    {
        "inputs": [
            {
                "internalType": "uint256",
                "name": "_fedStep",
                "type": "uint256"
            },
            {
                "internalType": "address",
                "name": "_clientAddress",
                "type": "address"
            },
            {
                "internalType": "string",
                "name": "_modelParsIpfsHash",
                "type": "string"
            }
        ],
        "name": "uploadModelParametersIpfsHash",
        "outputs": [],
        "stateMutability": "nonpayable",
        "type": "function"
    }
]
bytecode_dict["storage"] = "608060405234801561001057600080fd5b50610f5e806100206000396000f3fe608060405234801561001057600080fd5b50600436106100935760003560e01c8063631b1e4611610066578063631b1e461461013257806374c427e61461014e5780638f30821d1461016c578063e9b8436914610188578063ea1dd425146101a457610093565b806305399ed31461009857806319790d09146100c85780633033967f146100e657806330ab3ca914610102575b600080fd5b6100b260048036038101906100ad9190610aa8565b6101c0565b6040516100bf9190610d4b565b60405180910390f35b6100d06102e5565b6040516100dd9190610d29565b60405180910390f35b61010060048036038101906100fb9190610b0d565b610387565b005b61011c60048036038101906101179190610ad1565b610465565b6040516101299190610d07565b60405180910390f35b61014c60048036038101906101479190610a67565b6105d0565b005b6101566105ea565b6040516101639190610d6d565b60405180910390f35b61018660048036038101906101819190610aa8565b6105f3565b005b6101a2600480360381019061019d9190610b0d565b6105fd565b005b6101be60048036038101906101b99190610a2b565b6106b3565b005b6101c86108c3565b600560008381526020019081526020016000206040518060400160405290816000820160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001600182018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156102d55780601f106102aa576101008083540402835291602001916102d5565b820191906000526020600020905b8154815290600101906020018083116102b857829003601f168201915b5050505050815250509050919050565b606060068054600181600116156101000203166002900480601f01602080910402602001604051908101604052809291908181526020018280546001816001161561010002031660029004801561037d5780601f106103525761010080835404028352916020019161037d565b820191906000526020600020905b81548152906001019060200180831161036057829003601f168201915b5050505050905090565b61038f6108c3565b60405180604001604052808473ffffffffffffffffffffffffffffffffffffffff1681526020018381525090506003600085815260200190815260200160002081908060018154018082558091505060019003906000526020600020906002020160009091909190915060008201518160000160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550602082015181600101908051906020019061045c9291906108f3565b50505050505050565b606060036000848152602001908152602001600020805480602002602001604051908101604052809291908181526020016000905b828210156105c457838290600052602060002090600202016040518060400160405290816000820160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001600182018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156105ac5780601f10610581576101008083540402835291602001916105ac565b820191906000526020600020905b81548152906001019060200180831161058f57829003601f168201915b5050505050815250508152602001906001019061049a565b50505050905092915050565b80600690805190602001906105e69291906108f3565b5050565b60008054905090565b8060008190555050565b6106056108c3565b60405180604001604052808473ffffffffffffffffffffffffffffffffffffffff168152602001838152509050806005600086815260200190815260200160002060008201518160000160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555060208201518160010190805190602001906106a99291906108f3565b5090505050505050565b6000809050600080905060008090505b60018054905081101561075457600181815481106106dd57fe5b9060005260206000200160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168573ffffffffffffffffffffffffffffffffffffffff1614156107475760019150809250610754565b80806001019150506106c3565b5080158015610766575060008360ff16145b156107d3576001849080600181540180825580915050600190039060005260206000200160009091909190916101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055506108bd565b8080156107e3575060018360ff16145b156108bc57600180808054905003815481106107fb57fe5b9060005260206000200160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff166001838154811061083357fe5b9060005260206000200160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055506001808080549050038154811061088e57fe5b9060005260206000200160006101000a81549073ffffffffffffffffffffffffffffffffffffffff02191690555b5b50505050565b6040518060400160405280600073ffffffffffffffffffffffffffffffffffffffff168152602001606081525090565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f1061093457805160ff1916838001178555610962565b82800160010185558215610962579182015b82811115610961578251825591602001919060010190610946565b5b50905061096f9190610973565b5090565b61099591905b80821115610991576000816000905550600101610979565b5090565b90565b6000813590506109a781610ee3565b92915050565b600082601f8301126109be57600080fd5b81356109d16109cc82610db5565b610d88565b915080825260208301602083018583830111156109ed57600080fd5b6109f8838284610e90565b50505092915050565b600081359050610a1081610efa565b92915050565b600081359050610a2581610f11565b92915050565b60008060408385031215610a3e57600080fd5b6000610a4c85828601610998565b9250506020610a5d85828601610a16565b9150509250929050565b600060208284031215610a7957600080fd5b600082013567ffffffffffffffff811115610a9357600080fd5b610a9f848285016109ad565b91505092915050565b600060208284031215610aba57600080fd5b6000610ac884828501610a01565b91505092915050565b60008060408385031215610ae457600080fd5b6000610af285828601610a01565b9250506020610b0385828601610998565b9150509250929050565b600080600060608486031215610b2257600080fd5b6000610b3086828701610a01565b9350506020610b4186828701610998565b925050604084013567ffffffffffffffff811115610b5e57600080fd5b610b6a868287016109ad565b9150509250925092565b6000610b808383610c7e565b905092915050565b610b9181610e47565b82525050565b6000610ba282610df1565b610bac8185610e14565b935083602082028501610bbe85610de1565b8060005b85811015610bfa5784840389528151610bdb8582610b74565b9450610be683610e07565b925060208a01995050600181019050610bc2565b50829750879550505050505092915050565b6000610c1782610dfc565b610c218185610e25565b9350610c31818560208601610e9f565b610c3a81610ed2565b840191505092915050565b6000610c5082610dfc565b610c5a8185610e36565b9350610c6a818560208601610e9f565b610c7381610ed2565b840191505092915050565b6000604083016000830151610c966000860182610b88565b5060208301518482036020860152610cae8282610c0c565b9150508091505092915050565b6000604083016000830151610cd36000860182610b88565b5060208301518482036020860152610ceb8282610c0c565b9150508091505092915050565b610d0181610e79565b82525050565b60006020820190508181036000830152610d218184610b97565b905092915050565b60006020820190508181036000830152610d438184610c45565b905092915050565b60006020820190508181036000830152610d658184610cbb565b905092915050565b6000602082019050610d826000830184610cf8565b92915050565b6000604051905081810181811067ffffffffffffffff82111715610dab57600080fd5b8060405250919050565b600067ffffffffffffffff821115610dcc57600080fd5b601f19601f8301169050602081019050919050565b6000819050602082019050919050565b600081519050919050565b600081519050919050565b6000602082019050919050565b600082825260208201905092915050565b600082825260208201905092915050565b600082825260208201905092915050565b6000610e5282610e59565b9050919050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b6000819050919050565b600060ff82169050919050565b82818337600083830152505050565b60005b83811015610ebd578082015181840152602081019050610ea2565b83811115610ecc576000848401525b50505050565b6000601f19601f8301169050919050565b610eec81610e47565b8114610ef757600080fd5b50565b610f0381610e79565b8114610f0e57600080fd5b50565b610f1a81610e83565b8114610f2557600080fd5b5056fea2646970667358221220db4d83bddbb128f6767deb28fa3336ba6f295a84d251205e0a67292f22d6d70164736f6c63430006060033"
address_dict["storage"] = "0xDA0b6ED7bAFb91d633154c800704130a63FC4EB0"
